@model foro_C.Models.Entrada

@{
    ViewData["Title"] = "Detalles";
}

<!-- Vincula el CSS externo -->
<link rel="stylesheet" href="~/css/MisEstilos.css" />
<section>
<div class="entrada-card">
    <div class="entrada-titulo">@Model.Titulo</div>
    <div class="entrada-meta">
        <span><b>Categoría:</b> @Model.Categoria?.Nombre</span> |
        <span><b>Autor:</b> @Model.Miembro?.Nombre</span> |
        <span><b>Fecha:</b> @Model.Fecha.ToString("dd/MM/yyyy")</span>
    </div>
  
    <div class="entrada-texto">@Model.Texto</div>
    <div class="entrada-meta">
        <span><b>Estado:</b> @(Model.Privada ? "Privada" : "Pública")</span>
    </div>

    <div class="entrada-acciones">
        @if (User.Identity.IsAuthenticated)
        {
            <a asp-controller="Preguntas" asp-action="Create" asp-route-entradaId="@Model.Id" class="btn btn-outline-primary">Hacer una pregunta</a>
            <form asp-controller="Reacciones" asp-action="Reaccionar" method="post" style="display:inline;">
                <input type="hidden" name="entradaId" value="@Model.Id" />
                <input type="hidden" name="accion" value="agregar" />
                <button type="submit" class="btn btn-outline-success">👍 Me gusta</button>
            </form>
        }
        else
        {
                <div style="margin-top:1rem;">
                    <a asp-controller="Account" asp-action="IniciarSesion" class="btn btn-primary" style="margin-right:10px;">Iniciar sesión</a>
                    <a asp-controller="Account" asp-action="Registrarse" class="btn btn-secondary">Registrarse</a>
                </div>

        }
    </div>
</div>
</section>