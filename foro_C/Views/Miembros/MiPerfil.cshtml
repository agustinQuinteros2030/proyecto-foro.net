@model foro_C.Models.Miembro
@{
    ViewData["Title"] = "Mi Perfil";
}
<div class="container mt-5">
    <div class="card shadow border-0 rounded-4">
        <div class="card-header bg-dark text-white rounded-top-4">
            <h3 class="mb-0"><i class="bi bi-person-fill"></i> Mi Perfil</h3>
        </div>
        <div class="card-body">
            <dl class="row mb-4">
                <dt class="col-sm-4">👤 Usuario</dt>
                <dd class="col-sm-8">@Model.UserName</dd>

                <dt class="col-sm-4">📛 Nombre</dt>
                <dd class="col-sm-8">@Model.Nombre @Model.Apellido</dd>

                <dt class="col-sm-4">✉️ Email</dt>
                <dd class="col-sm-8">@Model.Email</dd>

                <dt class="col-sm-4">📞 Teléfono</dt>
                <dd class="col-sm-8">@Model.Telefono</dd>
            </dl>

            <div class="text-end mb-4">
                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">
                    <i class="bi bi-pencil"></i> Editar Perfil
                </a>
                <a asp-action="Index" class="btn btn-outline-secondary ms-2">
                    <i class="bi bi-arrow-left"></i> Volver
                </a>
            </div>

            <hr />
            <h4 class="mt-4">📝 Historial de Actividad</h4>

            <div class="mt-3">
                <h5 class="text-primary">📢 Publicaciones</h5>
                @if (Model.Entradas != null && Model.Entradas.Any())
                {
                    <ul class="list-group mb-4">
                        @foreach (var entrada in Model.Entradas)
                        {
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <span>@entrada.Titulo</span>
                                <a class="btn btn-sm btn-outline-primary" asp-controller="Entradas" asp-action="Details" asp-route-id="@entrada.Id">Ver</a>
                            </li>
                        }
                    </ul>
                }
                else
                {
                    <p class="text-muted">Todavía no hiciste publicaciones.</p>
                }

                <h5 class="text-primary">💬 Comentarios / Preguntas</h5>
                @if (Model.Preguntas != null && Model.Preguntas.Any())
                {
                    <ul class="list-group">
                        @foreach (var pregunta in Model.Preguntas)
                        {
                            <li class="list-group-item">
                                <strong>Entrada:</strong> @pregunta.Entrada?.Titulo<br />
                                <strong>Comentario:</strong> @pregunta.Texto
                                <div class="text-muted small">🗓️ @pregunta.Fecha.ToString("dd/MM/yyyy")</div>
                            </li>
                        }
                    </ul>
                }
                else
                {
                    <p class="text-muted">Todavía no realizaste comentarios.</p>
                }
            </div>
        </div>
    </div>
</div>

